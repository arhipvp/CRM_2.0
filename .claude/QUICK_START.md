# Быстрый старт с субагентами Claude Code

## Что такое субагенты?

Субагенты — это специализированные AI-помощники, которые знают всё о определённой части проекта. Они автоматически подключаются при работе с соответствующей частью кода.

## Самые полезные субагенты для начинающих

### 1. Frontend (`frontend`)
**Когда использовать**: Когда вы работаете с веб-интерфейсом
```
Вы: "Добавь новую кнопку на главную страницу"
Claude → использует frontend субагента
```

### 2. Desktop App (`desktop-app`) ← НОВЫЙ!
**Когда использовать**: Когда вы работаете с десктопным приложением
```
Вы: "Добавь форму для добавления нового клиента в десктоп приложение"
Claude → использует desktop-app субагента
```

### 3. CRM (`crm`)
**Когда использовать**: Когда вы работаете с бизнес-логикой (клиенты, сделки, платежи)
```
Вы: "Добавь новое поле 'комиссия' в модель сделки"
Claude → использует crm субагента
```

### 4. Gateway (`gateway`)
**Когда использовать**: Когда вы работаете с API маршрутизацией
```
Вы: "Добавь новый endpoint для получения статистики"
Claude → использует gateway субагента
```

### 5. Infrastructure (`infrastructure`)
**Когда использовать**: Когда вы работаете с Docker, базами данных, миграциями
```
Вы: "Не могу запустить проект, ошибка с PostgreSQL"
Claude → использует infrastructure субагента
```

## Как заставить субагента помочь?

### Способ 1: Автоматический выбор (рекомендуется)
Просто упомяните файл или сервис:

```
"Исправь ошибку в frontend/src/components/deals/DealCard.tsx"
↓
Claude автоматически выберет frontend субагента
```

### Способ 2: Явное указание

```
"Используя desktop-app субагента, добавь форму для сделок"
↓
Claude явно использует desktop-app субагента
```

### Способ 3: По названию сервиса

```
"В CRM сервисе нужно добавить новый endpoint для платежей"
↓
Claude выберет crm субагента
```

## Примеры запросов

### Работа с фронтендом
```
"Фронтенд показывает ошибку при загрузке клиентов, разберись"
```

### Работа с десктопом
```
"Добавь в десктопное приложение форму для управления сделками"
```

### Работа с API
```
"Какие endpoints есть для работы с платежами в CRM?"
```

### Комплексная задача
```
"Нужно добавить возможность скачивания отчётов:
1. В фронтенде - кнопка скачивания
2. В API - endpoint для генерации PDF
3. В CRM - логика сбора данных"
```

## Структура файлов субагентов

```
.claude/
├── agents/
│   ├── README.md              ← Полная документация
│   ├── AGENTS_SUMMARY.md      ← Справка по всем субагентам
│   ├── desktop-app.md         ← Документация desktop-app
│   ├── frontend.md
│   ├── crm.md
│   ├── gateway.md
│   ├── auth.md
│   └── ... (ещё 8 субагентов)
└── settings.local.json        ← Настройки разрешений
```

## Полезные команды

```bash
# Посмотреть все доступные субагенты в Claude Code
/agents

# Получить справку по использованию
/help

# Посмотреть текущий контекст (какой субагент используется)
/context
```

## Общие правила

1. **Будьте конкретны** — упоминайте имена файлов, функций, сервисов
   ```
   ❌ "Помоги с приложением"
   ✅ "Помоги с desktop_app/main.py, функция add_customer"
   ```

2. **Упоминайте контекст** — что нужно сделать и почему
   ```
   ❌ "Добавь кнопку"
   ✅ "Добавь кнопку 'Скачать отчёт' в таблицу сделок"
   ```

3. **Разделяйте сложные задачи** — несколько простых запросов лучше одного сложного
   ```
   Сначала: "Добавь endpoint в CRM для экспорта"
   Потом: "Добавь кнопку экспорта в фронтенд"
   ```

4. **Проверяйте документацию субагента** — в каждом `.md` файле много полезной информации
   ```
   Если вопрос о desktop-app → читайте .claude/agents/desktop-app.md
   ```

## Контактная информация для субагентов

| Субагент | Файл | Когда использовать |
|----------|------|-------------------|
| Frontend | `.claude/agents/frontend.md` | Next.js, React, UI |
| Desktop App | `.claude/agents/desktop-app.md` | Tkinter, Python GUI |
| CRM | `.claude/agents/crm.md` | Бизнес-логика, API |
| Gateway | `.claude/agents/gateway.md` | API маршруты, SSE |
| Auth | `.claude/agents/auth.md` | Аутентификация, JWT |
| Infrastructure | `.claude/agents/infrastructure.md` | Docker, БД, миграции |

## Часто задаваемые вопросы

**В: Как понять, какой субагент нужен?**
О: Смотрите в какой папке файл (`frontend/`, `backend/crm/`, `desktop_app/`) и выберите соответствующего

**В: Что если я неправильно выбрал субагента?**
О: Ничего страшного! Claude обычно всё равно поможет, но для лучшего результата можно переспросить явно

**В: Могу ли я работать с несколькими субагентами одновременно?**
О: Да! Просто описывайте что нужно сделать, и Claude будет вызывать нужных субагентов

**В: Где найти более подробную информацию?**
О: В `.claude/agents/README.md` (общая документация) или в конкретном файле субагента

## Начало работы

1. **Выберите, что вы хотите сделать** — работа с фронтендом, десктопом, API?
2. **Напишите описание задачи** — что нужно добавить/изменить/исправить
3. **Упомяните файлы или сервисы** — это поможет Claude выбрать нужного субагента
4. **Получите помощь** — Claude сам разберётся в нужном коде и поможет

## Пример работы

```
Вы: "Добавь форму для создания новой сделки в десктопное приложение"

Claude:
1. Выбирает desktop-app субагента
2. Просматривает desktop_app/main.py
3. Смотрит структуру существующих форм (CustomerDialog)
4. Спрашивает: какие поля должны быть в форме сделки?
5. Создаёт DealDialog, интегрирует в главное приложение
6. Проверяет API endpoints в CRM сервисе
7. Готово!
```

## Следующие шаги

- Прочитайте `.claude/agents/README.md` для подробной информации
- Прочитайте `.claude/AGENTS_SUMMARY.md` для справки по всем субагентам
- Прочитайте конкретный файл субагента перед работой (например, `.claude/agents/desktop-app.md`)
- Начните работать с субагентом, упоминая имя файла или название сервиса

## Поддержка

При возникновении вопросов:
1. Прочитайте документацию в `.claude/agents/`
2. Используйте `/help` команду в Claude Code
3. Проверьте `CLAUDE.md` в корне проекта
