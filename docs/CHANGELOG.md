# CRM 2.0 — изменения фронтенда

## [Unreleased]
- Добавлен раздел `/admin` с загрузкой пользователей, ролей, справочников и аудита через клиентские запросы React Query.
- Удалён серверный префетч данных для `/`, `/deals`, `/tasks`, `/payments`, `/notifications`, `/admin` и `/clients/[clientId]`; страницы рендерятся сразу, а загрузка отображается через skeleton-компоненты.
- Gateway приводит JSON-ответы CRM к camelCase, поэтому клиентские типы `Deal`, `Client`, `Payment` и др. теперь соответствуют фактическим HTTP-данным без дополнительного маппинга в браузере.
- Реализованы клиентские хуки и REST-клиент для админ-панели (`@/lib/api/admin/*`), проверка прав доступа через `useAdminAccessStore`.
- Созданы интерфейсы `UserManagement`, `DictionaryEditor`, `AuditLog` с фильтрами, инлайн-валидацией и экспортом CSV/JSON.
- Обновлены Zustand-хранилища для фильтров админ-панели, добавлены Vitest-тесты и Storybook-сценарии для основных блоков.
- Расширена документация (README, docs/frontend/user-scenarios.md) и навигация главной страницы ссылкой на `/admin`.
- Добавлена очередь загрузок во вкладке документов сделки: прогресс-бар, отмена, повтор, модальное присвоение категорий и валидация форматов/размеров; обновлены сторис и тесты, синхронизирована спецификация `docs/frontend/deal-details.md`.
