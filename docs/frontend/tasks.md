# Экран «Задачи и планирование»

- **Описание макета:** комбинированная доска задач с табличным и канбан-представлением; актуальные материалы лежат в `docs/frontend/mockups/tasks-board/`.
- **Текстовая спецификация состояний:** [spec.md](mockups/tasks-board/spec.md).
- **Назначение:** управление индивидуальными и командными задачами, визуализация приоритетов и дедлайнов.

## Основные блоки
1. **Список задач:** табличное и канбан-представление с переключателем вида.
2. **Фильтры и поиск:** по статусу, исполнителю, типу активности, тегам.
3. **Календарь напоминаний:** недельный и месячный обзор внутри приложения.
4. **Панель массовых действий:** изменение статуса, назначение исполнителя, перенос сроков.

### Роли пользователей
- **Продавец (агент):** создаёт и отслеживает задачи, назначает исполнителей, настраивает приоритеты и сроки.
- **Исполнитель:** получает назначенные задачи, обновляет статус выполнения и сообщает о выполнении или переносе сроков.

## Пользовательские действия
- Создание задачи с шаблоном (тип, приоритет, связанная сделка/клиент).
- Редактирование статуса, сроков и ответственных.
- Массовое закрытие задач и перенос дедлайнов.

## Состояния элементов
- **Загрузка:** спиннеры в таблице и placeholder карточки в канбане.
- **Валидация:** обязательные поля формы создания (название, срок, исполнитель) подсвечиваются при пустом значении; даты проверяются на прошлое время.
- **Ошибки синхронизации:** отображаются в верхней панели с кнопкой повторной синхронизации.
- **Конфликт изменений:** модальное окно с выбором версии (локально/сервер).

## Критерии приёмки
- Переключение вида (таблица/канбан) сохраняется в пользовательских настройках.
- Массовые действия недоступны без выбранных задач и отображают счётчик выбранных элементов.
- После изменения статуса задачи список и показатели сделок обновляются автоматически без ручного обновления страницы.
- Список и канбан обновляют данные без перезагрузки страницы, спиннеры скрываются после успешной синхронизации.
- Календарь отображает задачи по срокам внутри приложения без внешней синхронизации.

## Требования к доступности
- Формы и таблицы имеют связи `label`/`for`, подсказки озвучиваются screen reader'ом.
- Фильтры управляются клавиатурой, состояние чекбоксов/переключателей озвучивается.
- Для канбан-доски реализована альтернатива списком, доступным для screen reader.
- Уведомления о дедлайнах доступны через ARIA live region.

## Отложенные возможности
- Экспорт списка задач в XLSX/CSV.
- Синхронизация календаря с внешними системами через WebCal.
- Расширенный календарь с квартальными/годовыми обзорами и внешними подписками.
