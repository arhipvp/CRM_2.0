# Миграции схемы `documents`

## Порядок миграций

1. `20240117120000_create_documents.sql` — таблица `documents` с уникальным индексом по `file_url`.
2. `20240117121500_create_document_links.sql` — таблица `document_links`, добавление ограничений по `owner_schema`/`owner_id`.
3. `20240117123000_seed_document_types.sql` — наполнение справочника типов документов.

## Правила версионирования

* Таймстемпы — формат `YYYYMMDDHHMMSS` (UTC).
* Для расширения перечня поддерживаемых владельцев документа необходимо синхронно обновлять `docs/data-model.md` и seed-скрипты.
* Любые изменения в структуре требуют проверки миграций на существование связей с `crm` и `payments`.
