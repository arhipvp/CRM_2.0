# Миграции схемы `audit`

## Порядок миграций

1. `20240117141000_create_events.sql` — создаёт таблицу `events` (партиционирование по месяцу, индексы по `created_at`).
2. `20240117143000_create_event_tags.sql` — таблица `event_tags`, внешние ключи на `events`.
3. `20240117145000_seed_initial_event.sql` — первичная запись «initial migration» для трассируемости.

## Правила версионирования

* Формат имени файла — `YYYYMMDDHHMMSS_описание.sql`.
* Перед добавлением новых партиций необходимо обновлять автоматические задачи ротации в `infra/`.
* Изменения структуры фиксируются в `docs/security-and-access.md`, так как аудит влияет на требования комплаенса.
