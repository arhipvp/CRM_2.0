# –ü–ª–∞–Ω –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ React Frontend –≤ CRM_2.0

## –û–±–∑–æ—Ä
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è React frontend (Vite + React 19) —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π CRM —á–µ—Ä–µ–∑ Gateway, —Å –ø–æ–ª–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ SSE –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ Docker Compose.

---

## –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è)

### 1.1 Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –°–æ–∑–¥–∞—Ç—å/–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `frontend/Dockerfile` (multi-stage build: dev + production)
- [x] –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å `frontend` –≤ `infra/docker-compose.yml`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å volumes –¥–ª—è hot-reload –≤ dev —Ä–µ–∂–∏–º–µ
- [x] –î–æ–±–∞–≤–∏—Ç—å health check –¥–ª—è frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### 1.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] –°–æ–∑–¥–∞—Ç—å `frontend/.env.development` –∏ `.env.production`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `VITE_API_BASE_URL`, `VITE_GATEWAY_URL`
- [x] –û–±–Ω–æ–≤–∏—Ç—å `vite.config.ts` —Å proxy –¥–ª—è `/api` ‚Üí Gateway (8080)

### 1.3 CORS –∏ Gateway
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –≤ `backend/gateway/src/main.ts`:
  - origin: `http://localhost:3000` (dev), production URL
  - credentials: true
  - allowedHeaders: Authorization, Content-Type
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ snake_case ‚Üî camelCase –≤ Gateway

### 1.4 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å Dockerfile (COPY –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç package.json)
  - [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ build context –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ docker-compose.yml
  - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ COPY –ø—É—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ build context
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ Dockerfile
- [x] –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π PostCSS –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å—Ç–∞—Ä—Ç–µ
  - [x] npm install –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å @tailwindcss/postcss —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ dependencies –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã –≤ package.json

---

## –≠—Ç–∞–ø 2: API –∫–ª–∏–µ–Ω—Ç –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)

### 2.1 HTTP –∫–ª–∏–µ–Ω—Ç
- [x] –°–æ–∑–¥–∞—Ç—å `frontend/services/apiClient.ts`:
  - [x] axios —Å baseURL –∏–∑ env
  - [x] Interceptors –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤
  - [x] Refresh token –ª–æ–≥–∏–∫–∞
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ 401/403 —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º –Ω–∞ login
  - [x] –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 2.2 –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤
- [x] –û–±–Ω–æ–≤–∏—Ç—å `frontend/types.ts` –ø–æ–¥ backend —Å—Ö–µ–º—ã:
  - [x] Client, Deal, Policy, Payment, Quote, Task
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è API responses: `ApiResponse<T>`, `PaginatedResponse<T>`
  - [ ] –¢–∏–ø—ã –¥–ª—è SSE —Å–æ–±—ã—Ç–∏–π

### 2.3 API –º–µ—Ç–æ–¥—ã
- [x] –°–æ–∑–¥–∞—Ç—å `frontend/services/crmApi.ts`:
  - [x] **Clients**: `fetchClients()`, `createClient()`, `updateClient()`, `getClient(id)`
  - [x] **Deals**: `fetchDeals()`, `createDeal()`, `updateDeal()`, `getDeal(id)`
  - [x] **Policies**: –±–∞–∑–æ–≤—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
  - [x] **Payments**: CRUD + –¥–æ—Ö–æ–¥—ã/—Ä–∞—Å—Ö–æ–¥—ã
  - [x] **Tasks**: –ø–æ–ª—É—á–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –∂—É—Ä–Ω–∞–ª–∞ —Å–¥–µ–ª–æ–∫ –∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ backend)

---

## –≠—Ç–∞–ø 3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2-3 –¥–Ω—è)

### 3.1 Auth –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Å–µ—Ä–≤–∏—Å—ã
- –°–æ–∑–¥–∞—Ç—å `frontend/contexts/AuthContext.tsx`:
  - State: `user`, `accessToken`, `isAuthenticated`, `loading`
  - Methods: `login()`, `logout()`, `refreshToken()`
  - Auto-refresh –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞
- –°–æ–∑–¥–∞—Ç—å `frontend/services/authApi.ts`:
  - `POST /api/v1/auth/token` (login)
  - `POST /api/v1/auth/refresh` (refresh token)
  - `POST /api/v1/auth/logout`

### 3.2 UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –°–æ–∑–¥–∞—Ç—å `frontend/components/Login.tsx`:
  - –§–æ—Ä–º–∞ email/password
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
  - Error handling (–Ω–µ–≤–µ—Ä–Ω—ã–µ credentials, connection errors)
  - "–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è" (localStorage vs sessionStorage)
- –û–±–Ω–æ–≤–∏—Ç—å `App.tsx`:
  - –û–±–µ—Ä–Ω—É—Ç—å –≤ `<AuthProvider>`
  - Protected routes: —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login` –µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
  - Public routes: `/login`

### 3.3 –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü–æ–ª—É—á–∞—Ç—å —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Auth —Å–µ—Ä–≤–∏—Å–∞
- –°–æ–∑–¥–∞—Ç—å `frontend/hooks/usePermissions.ts`
- –°–∫—Ä—ã–≤–∞—Ç—å/–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å UI —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏

---

## –≠—Ç–∞–ø 4: –ú–∏–≥—Ä–∞—Ü–∏—è –æ—Ç Mock –∫ Real API (3-5 –¥–Ω–µ–π)

### 4.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –£–¥–∞–ª–∏—Ç—å mock data –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑ `geminiService.ts`
- –ó–∞–º–µ–Ω–∏—Ç—å `useState` –Ω–∞ API calls –≤ `App.tsx`:
  - –ó–∞–≥—Ä—É–∑–∫–∞ clients, deals, policies –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  - Loading states –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  - Error states —Å retry –∫–Ω–æ–ø–∫–æ–π

### 4.2 CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- **ClientsView.tsx**:
  - `useEffect` ‚Üí `crmApi.fetchClients()`
  - Create/Edit —Ñ–æ—Ä–º—ã ‚Üí `crmApi.createClient()` / `updateClient()`
  - –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
- **DealsView.tsx**:
  - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è deals
  - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É journal entries
- **PoliciesView.tsx**, **PaymentsView.tsx**, **TasksView.tsx**:
  - –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ API

### 4.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –°–æ–∑–¥–∞—Ç—å `frontend/components/ErrorBoundary.tsx`
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π (success/error)
- Fallback UI –¥–ª—è failed –∑–∞–≥—Ä—É–∑–æ–∫

---

## –≠—Ç–∞–ø 5: Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (SSE) (2-3 –¥–Ω—è)

### 5.1 SSE –∫–ª–∏–µ–Ω—Ç
- –°–æ–∑–¥–∞—Ç—å `frontend/services/sseClient.ts`:
  - EventSource –¥–ª—è `/api/v1/streams/deals`
  - EventSource –¥–ª—è `/api/v1/streams/notifications`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Last-Event-ID –¥–ª—è reconnect
  - Auto-reconnect –ø—Ä–∏ –æ–±—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### 5.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UI
- –°–æ–∑–¥–∞—Ç—å `frontend/hooks/useSseEvents.ts`:
  - –°–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏—è: `deal.updated`, `payment.created`, `task.created`
  - –û–±–Ω–æ–≤–ª—è—Ç—å state –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  - –ü—Ä–∏ `deal.updated` ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫
  - –ü—Ä–∏ `notification` ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å toast
  - –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## –≠—Ç–∞–ø 6: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (2-3 –¥–Ω—è)

### 6.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Documents API (8084):
  - Upload —Ñ–∞–π–ª–æ–≤ –∫ —Å–¥–µ–ª–∫–∞–º
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
  - Download —á–µ—Ä–µ–∑ pre-signed URLs
- Drag & drop –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

### 6.2 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **React Query** (–∏–ª–∏ SWR):
  - –£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤
  - Auto-refetch –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞
  - Optimistic updates
  - Devtools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞
- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ (react-window)

### 6.3 UI/UX —É–ª—É—á—à–µ–Ω–∏—è
- –°–∫–µ–ª–µ—Ç–æ–Ω—ã –¥–ª—è loading states
- Infinite scroll –∏–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- Breadcrumbs –Ω–∞–≤–∏–≥–∞—Ü–∏—è

---

## –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (2-3 –¥–Ω—è)

### 7.1 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è API –∫–ª–∏–µ–Ω—Ç–∞ (Vitest)
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–ª–æ—É (—Å–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏)
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (Playwright/Cypress)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ token refresh

### 7.2 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–∏—Ç—å `.claude/frontend_integration_plan.md` —Å –∏—Ç–æ–≥–æ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º
- –û–±–Ω–æ–≤–∏—Ç—å `frontend/README.md`:
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
  - Environment variables
  - API endpoints
  - Troubleshooting
- –î–æ–±–∞–≤–∏—Ç—å frontend –≤ –∫–æ—Ä–Ω–µ–≤–æ–π `README.md`

---

## –≠—Ç–∞–ø 8: Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (1-2 –¥–Ω—è)

### 8.1 Build –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Vite build:
  - Code splitting
  - Tree shaking
  - Minification
  - Source maps –¥–ª—è production
- Environment-specific configs

### 8.2 Deployment
- Production Dockerfile —Å Nginx
- Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è SPA (fallback –Ω–∞ index.html)
- Health check endpoint
- Logging –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 8.3 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Content Security Policy
- XSS –∑–∞—â–∏—Ç–∞
- CSRF —Ç–æ–∫–µ–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- Rate limiting –Ω–∞ API

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

```
frontend/
‚îú‚îÄ‚îÄ .env.development          # Dev –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ .env.production           # Prod –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ Dockerfile               # Multi-stage build
‚îú‚îÄ‚îÄ nginx.conf               # Nginx –¥–ª—è production
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ apiClient.ts         # HTTP –∫–ª–∏–µ–Ω—Ç —Å JWT
‚îÇ   ‚îú‚îÄ‚îÄ authApi.ts           # Auth endpoints
‚îÇ   ‚îú‚îÄ‚îÄ crmApi.ts            # CRM endpoints
‚îÇ   ‚îî‚îÄ‚îÄ sseClient.ts         # SSE streams
‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx      # Auth state management
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts           # Auth —Ö—É–∫
‚îÇ   ‚îú‚îÄ‚îÄ useSseEvents.ts      # SSE —Ö—É–∫
‚îÇ   ‚îî‚îÄ‚îÄ usePermissions.ts    # –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx            # Login —Ñ–æ—Ä–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ ErrorBoundary.tsx    # Error handling
‚îÇ   ‚îî‚îÄ‚îÄ ProtectedRoute.tsx   # Route guard
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ storage.ts           # localStorage helpers
    ‚îî‚îÄ‚îÄ validators.ts        # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ infra:**
```
infra/
‚îú‚îÄ‚îÄ docker-compose.yml       # + frontend —Å–µ—Ä–≤–∏—Å
‚îî‚îÄ‚îÄ .env                     # + FRONTEND_PORT=3000
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ backend:**
```
backend/gateway/
‚îú‚îÄ‚îÄ src/main.ts              # + CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ .env                     # + FRONTEND_URL
```

---

## –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏

| –≠—Ç–∞–ø | –î–Ω–∏ | –°—Ç–∞—Ç—É—Å |
|------|-----|--------|
| 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 2-3 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (Docker, Tailwind v4, PostCSS) |
| 2. API –∫–ª–∏–µ–Ω—Ç | 2-3 | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |
| 3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | 2-3 | ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ (Login –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, AuthContext –≥–æ—Ç–æ–≤—ã) |
| 4. –ú–∏–≥—Ä–∞—Ü–∏—è CRUD | 3-5 | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |
| 5. SSE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 2-3 | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |
| 6. –î–æ–ø. —Ñ—É–Ω–∫—Ü–∏–∏ | 2-3 | –ü–æ–ª–∏—Ä–æ–≤–∫–∞ |
| 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 2-3 | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
| 8. Production | 1-2 | –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è |
| **–ò–¢–û–ì–û** | **16-25 –¥–Ω–µ–π** | **~3-4 –¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ** |

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

1. ‚úÖ Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç (CRM –Ω–∞ 8082)
2. ‚úÖ Gateway –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã (8080)
3. ‚úÖ Auth —Å–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤ (8081)
4. ‚úÖ Docker Compose –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
5. ‚ö†Ô∏è –ù—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å CORS –≤ Gateway
6. ‚ö†Ô∏è –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å seed-–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|-----------|
| –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤ Backend/Frontend | –°—Ä–µ–¥–Ω—è—è | Gateway –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç snake_case, —Ç—â–∞—Ç–µ–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è |
| –ü—Ä–æ–±–ª–µ–º—ã —Å CORS | –ù–∏–∑–∫–∞—è | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –Ω–∞ —Å—Ç–∞—Ä—Ç–µ |
| SSE –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ proxy | –°—Ä–µ–¥–Ω—è—è | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–Ω–Ω–µ–º —ç—Ç–∞–ø–µ |
| Token refresh –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã | –°—Ä–µ–¥–Ω—è—è | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –ø–ª–∞–Ω–∞

1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É `feature/frontend-integration`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Docker –¥–ª—è frontend
3. –ù–∞—á–∞—Ç—å —Å API –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
4. –ü–æ—ç—Ç–∞–ø–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

---

## –ü—Ä–æ–¥–µ–ª–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–ù–æ—è–±—Ä—å 2, 2025)

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –≤ –≠—Ç–∞–ø 1:
1. **Docker –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞** - —Å–æ–∑–¥–∞–Ω Dockerfile —Å builder, dev –∏ production stages
2. **Tailwind v4 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ PostCSS pipeline, —É–¥–∞–ª–µ–Ω CDN —Å–∫—Ä–∏–ø—Ç
3. **Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 3000
4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã HTML –ø—Ä–æ–±–ª–µ–º—ã** - ClientList.tsx –±–æ–ª—å—à–µ –Ω–µ –∏–º–µ–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö button —ç–ª–µ–º–µ–Ω—Ç–æ–≤
5. **Improved Login UI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å gradient background, —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏—è

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –≤ –≠—Ç–∞–ø 3:
1. **AuthContext –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - Login –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç useAuth() hook
2. **Protected routes** - App.tsx –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ login –µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
3. **Error handling** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö credentials, network errors

### ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **Backend bootstrap error** - Auth —Å–µ—Ä–≤–∏—Å –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (AdminBootstrapRunner.kt)
   - –°–µ—Ä–≤–∏—Å –≤—Å–µ —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8081
   - –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è backend –∫–æ–¥–∞, –Ω–µ frontend
2. **PostgreSQL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –ø—Ä–∏ –ø–æ–ª–Ω–æ–º —Ä–µ—Å—Ç–∞—Ä—Ç–µ (--volumes) —Ä–æ–ª–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –†–µ—à–µ–Ω–∏–µ: –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å —Ä–æ–ª–∏ —á–µ—Ä–µ–∑ `docker compose exec postgres psql`
   - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–∏—Ç—å init.sh —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### üìù –ö–æ–º–º–∏—Ç—ã:
- `520310c` - Login form styling improvements
- Plus 4+ –∫–æ–º–º–∏—Ç–∞ –¥–ª—è Tailwind/PostCSS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
